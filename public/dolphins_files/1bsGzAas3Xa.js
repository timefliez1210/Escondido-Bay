;/*FB_PKG_DELIM*/

__d("MessengerWebPollConstants",[],(function(a,b,c,d,e,f){e.exports={POLL_COMPOSER_MAX_OPTIONS:10,POLL_MAX_OPTIONS:200,POLL_MIN_OPTIONS:2,POLL_MAX_OPTION_LENGTH:140,POLL_MAX_QUESTION_LENGTH:140}}),null);
__d("LSIssuePollCreationForThreadTask",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("question_text",a[0]),d[2].set("thread_key",a[1]),d[2].set("options",a[2]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"poll_creation",[0,163],d[3],f,f,[0,0],[0,0],f,f,[0,0],f)}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWChatComposerP2PPaymentEligibilityQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5099562526770637"}),null);
__d("MWChatComposerP2PPaymentEligibilityQuery.graphql",["MWChatComposerP2PPaymentEligibilityQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"fbids"}],c=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"PeerToPeerPaymentAccount",kind:"LinkedField",name:"peer_to_peer_payments",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"fbids",variableName:"fbids"}],concreteType:"PeerToPeerPaymentUserEligibility",kind:"LinkedField",name:"can_send_to",plural:!0,selections:[{alias:null,args:null,concreteType:"P2PPaymentUserFacingError",kind:"LinkedField",name:"exception",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatComposerP2PPaymentEligibilityQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatComposerP2PPaymentEligibilityQuery",selections:c},params:{id:b("MWChatComposerP2PPaymentEligibilityQuery_facebookRelayOperation"),metadata:{},name:"MWChatComposerP2PPaymentEligibilityQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatComposerP2PPopoverQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4759589620830704"}),null);
__d("MWChatComposerP2PPopoverQuery$Parameters",["MWChatComposerP2PPopoverQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatComposerP2PPopoverQuery_facebookRelayOperation"),metadata:{},name:"MWChatComposerP2PPopoverQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatAnimatedImageFlyout.react",["CometAnimatedImagePickerCard.react","CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometPickerBasicStackingLayout.react","CometPickerSearchBox.react","CometPlaceholder.react","CometPopover.react","CometProgressRingIndeterminate.react","cr:1365","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useState,k=c("gkx")("1299319"),l=274,m={container:{height:"x1hie0zf",width:"xlro9se",$$css:!0},scrollableAreaForIE11:{maxHeight:"xuyqlj2",$$css:!0}};function a(a){var d=a.isSecureThread;d=d===void 0?!1:d;var e=a.onClose,f=a.onSelect,g=a.testid;g=a.withArrow;a=g===void 0?!0:g;g=i(function(a){e(),f(a)},[e,f]);var n=j(""),o=n[0];n=n[1];return h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometPopover.react"),{testid:void 0,withArrow:a,children:h.jsx(c("CometPickerBasicStackingLayout.react"),{xstyle:m.container,children:{content:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("CometColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",children:h.jsx(c("CometColumnItem.react"),{children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})}),children:d?b("cr:1365")&&h.jsx(b("cr:1365"),{mediaHeight:l,mediaWidth:l,onSelect:g,searchQuery:o,xstyle:k&&m.scrollableAreaForIE11}):h.jsx(c("CometAnimatedImagePickerCard.react"),{mediaHeight:l,mediaWidth:l,onSelect:g,searchQuery:o,xstyle:k&&m.scrollableAreaForIE11})},1),header:h.jsx(c("CometPickerSearchBox.react"),{searchQuery:o,setSearchQuery:n},0)}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerOverflowIcons.bs",["cr:59"],(function(a,b,c,d,e,f,g){"use strict";g.CamcorderPlusSVG=(a=b("cr:59")).CamcorderPlusSVG;g.PollsSVG=a.PollsSVG;g.DollarSignSVG=a.DollarSignSVG;g.PaperClipAngledSVG=a.PaperClipAngledSVG;g.MicrophoneSVG=a.MicrophoneSVG}),98);
__d("MWChatPollFlyout.bs",["fbt","BaseTextInput.react","CometPopover.react","CometScrollableArea.react","MDSRow.react","MDSRowItem.react","MessengerWebPollConstants","TetraButton.react","bs_curry","react","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={button:{paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",zIndex:"x1vjfegm",$$css:!0},buttonOverflow:{boxShadow:"x8t3t8w",$$css:!0},container:{display:"x78zum5",flexDirection:"xdt5ytf",maxHeight:"xyf3nwv",width:"x168biu4",$$css:!0},optionText:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"xzsf02u",fontSize:"x6prxxf",fontWeight:"x1s688f",width:"xh8yej3",$$css:!0},pollOption:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginBottom:"xod5an3",paddingBottom:"x1i2zvha",$$css:!0},pollOptions:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginStart:"x1d52u69",marginEnd:"xktsk01",$$css:!0},title:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"xzsf02u",display:"x1lliihq",fontSize:"x6prxxf",fontWeight:"xk50ysn",marginBottom:"x1hq5gj4",marginStart:"x1d52u69",marginEnd:"xktsk01",marginTop:"xjv05ge",textAlign:"x2b8uid",$$css:!0}},k=h._("__JHASH__CotUus5yWVx__JHASH__"),l=h._("__JHASH__TTumxStOaLR__JHASH__"),m=h._("__JHASH__Tf8o14f91uW__JHASH__");function a(a){var b=a.onClose,d=a.onPollCreate,e=a.withPopover;a=a.withArrow;e=e!==void 0?e:!0;a=a!==void 0?a:!0;var f=i.useState(function(){return""}),g=f[1],h=f[0];f=i.useState(function(){return[""]});var n=f[1],o=f[0];f=i.useState(function(){return!1});var p=f[1],q=i.useRef(null),r=new Set(o.map(function(a){return a.toUpperCase()}).filter(function(a){return a!==""}));c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=q.current;if(!(a==null)){var b=c("bs_curry")._1(a.getDOMNode);c("bs_curry")._1(p,function(){return b.scrollHeight>b.clientHeight})}});f=i.jsxs("div",{className:"x78zum5 xdt5ytf xyf3nwv x168biu4",children:[i.jsx(c("BaseTextInput.react"),{"aria-label":k,maxLength:c("MessengerWebPollConstants").POLL_MAX_QUESTION_LENGTH,onChange:function(a){var b=a.target.value;return c("bs_curry")._1(g,function(){return b})},placeholder:k,value:h,xstyle:[j.title]}),i.jsx(c("CometScrollableArea.react"),{ref:q,vertical:!0,xstyle:j.pollOptions,children:o.map(function(a,b){return i.jsx("div",{className:"x1nb4dca x1q0q8m5 xso031l xod5an3 x1i2zvha",children:i.jsx(c("BaseTextInput.react"),{"aria-label":l,maxLength:c("MessengerWebPollConstants").POLL_MAX_OPTION_LENGTH,onBlur:function(){return c("bs_curry")._1(n,function(a){return a.map(function(a){return a.trim()}).filter(function(a){return a!==""}).concat([""])})},onChange:function(a){var d=a.target.value;return c("bs_curry")._1(n,function(a){return a.map(function(a,c){if(b===c)return d;else return a}).concat(b===(a.length-1|0)&&d!==""&&r.size<c("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS?[""]:[])})},placeholder:l,value:a,xstyle:[j.optionText]})},String(b))})}),i.jsx("div",{className:c("stylex")(j.button,f[0]?j.buttonOverflow:!1),children:i.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,spacing:12,children:i.jsx(c("MDSRowItem.react"),{expanding:!0,children:i.jsx(c("TetraButton.react"),{disabled:r.size<c("MessengerWebPollConstants").POLL_MIN_OPTIONS||h.trim()==="",label:m,onPress:function(){c("bs_curry")._2(d,h,o.map(function(a){return a.trim()}).filter(function(a){return a!==""}));return c("bs_curry")._1(b)},reduceEmphasis:!0,type:"primary"})})})})]});if(e)return i.jsx(c("CometPopover.react"),{withArrow:a,children:f});else return f}b=a;g.composerMaxOptions=c("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS;g.minOptions=c("MessengerWebPollConstants").POLL_MIN_OPTIONS;g.maxOptionLength=c("MessengerWebPollConstants").POLL_MAX_OPTION_LENGTH;g.maxQuestionLength=c("MessengerWebPollConstants").POLL_MAX_QUESTION_LENGTH;g.pollTitleLabel=k;g.addPollOptionLabel=l;g.createPollLabel=m;g.make=b}),98);
__d("TetraMWChatComposerOverflowIcons.bs",["MWChatChatButtonColorConstants.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{display:"x1lliihq",transitionDuration:"x1k90msu",transitionProperty:"xhzi7b3",transitionTimingFunction:"x1qfuztq",$$css:!0}};function a(a){var b=a.fill,e=a.size;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;return h.jsx("svg",{className:c("stylex")(i.icon,d("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),height:e.toString()+"px",viewBox:"0 0 48 38",width:e.toString()+"px",children:h.jsx("path",{d:"M46.06 10a2.56 2.56 0 00-2.1.47l-5.14 3.75a2 2 0 00-.82 1.65v16.26a2 2 0 00.82 1.61L44 37.55a2.51 2.51 0 001.5.45 2.49 2.49 0 001.5-.44 2.59 2.59 0 001-2.13v-23A2.5 2.5 0 0046.06 10zM27.5 43a7.5 7.5 0 007.5-7.5v-23A7.5 7.5 0 0027.5 5h-20A7.5 7.5 0 000 12.5v23A7.5 7.5 0 007.5 43zm-21-19a2 2 0 012-2H15v-6.5a2 2 0 014 0V22h6.5a2 2 0 010 4H19v6.5a2 2 0 01-4 0V26H8.5a2 2 0 01-2-2z",fill:b,transform:"translate(0 -5)"})})}a.displayName=a.name+" [from "+f.id+"]";a={make:a};function b(a){var b=a.fill,e=a.size;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;return h.jsxs("svg",{className:c("stylex")(i.icon,d("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),height:e.toString()+"px",viewBox:"0 0 40 42",width:e.toString()+"px",children:[h.jsx("rect",{fill:b,height:"7",rx:"2",transform:"rotate(-90 4.5 30.5)",width:"29",x:"-6.5",y:"26.5"}),h.jsx("rect",{fill:b,height:"7",rx:"2",transform:"rotate(-90 20.5 24.5)",width:"41",x:"3.5",y:"20.5"}),h.jsx("rect",{fill:b,height:"7",rx:"2",transform:"rotate(-90 36.5 35.5)",width:"19",x:"30.5",y:"31.5"})]})}b.displayName=b.name+" [from "+f.id+"]";b={make:b};function e(a){var b=a.fill,e=a.size;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;return h.jsxs("svg",{className:c("stylex")(i.icon,d("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),height:String(e)+"px",viewBox:"0 0 46 46",width:String(e)+"px",children:[h.jsx("path",{d:"M18 17.54v.92c0 1.79 1.75 3.26 4 3.49v-7.9c-2.25.23-4 1.7-4 3.49zM26 26.2v7.6c2.13-.5 4-1.94 4-3.34v-.92c0-1.4-1.87-2.84-4-3.34z",fill:b,transform:"translate(-1 -1)"}),h.jsx("path",{d:"M24 1a23 23 0 1023 23A23 23 0 0024 1zm10 29.46c0 3.95-4 6.83-8 7.42V40a2 2 0 01-4 0v-2.06c-4.43-.3-7.94-3.52-7.94-7.48a2 2 0 014 0c0 1.78 1.72 3.24 3.94 3.49V26c-4.46-.28-8-3.51-8-7.49v-.92c0-4 3.54-7.21 8-7.49V8a2 2 0 014 0v2.13c4 .63 7.09 3.71 7.09 7.41a2 2 0 01-4 0A3.74 3.74 0 0026 14.21v7.91c4 .59 8 3.47 8 7.42z",fill:b,transform:"translate(-1 -1)"})]})}e.displayName=e.name+" [from "+f.id+"]";e={make:e};function j(a){var b=a.fill,e=a.size;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;return h.jsx("svg",{className:c("stylex")(i.icon,d("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),height:e.toString()+"px",viewBox:"0 0 43.97 40.03",width:e.toString()+"px",children:h.jsx("path",{d:"M25.49 32.51l13.6-13.71a9.83 9.83 0 000-13.92h0a9.85 9.85 0 00-13.92 0L4.16 25.71a7.39 7.39 0 000 10.44h0a6.4 6.4 0 009.05 0l18.11-17.93a3.94 3.94 0 000-5.57h0a3.92 3.92 0 00-5.56 0L15.44 23.01",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}j.displayName=j.name+" [from "+f.id+"]";j={make:j};function k(a){var b=a.fill;a=a.size;return h.jsxs("svg",{className:c("stylex")(i.icon,d("MWChatChatButtonColorConstants.bs").styles.fillGrey,d("MWChatChatButtonColorConstants.bs").styles.strokeGrey),height:a.toString()+"px",viewBox:"0 0 34 48",width:a.toString()+"px",children:[h.jsx("path",{d:"M17 37v9",fill:"none",stroke:b,strokeLinejoin:"round",strokeWidth:"4"}),h.jsx("path",{d:"M10 46h14",fill:"none",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px"}),h.jsx("path",{d:"M39 20v3.5A14.5 14.5 0 0124.5 38h-1A14.5 14.5 0 019 23.5V20",fill:"none",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px",transform:"translate(-7)"}),h.jsx("rect",{fill:b,height:"28",rx:"6.5",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",width:"14",x:"10",y:"2"})]})}k.displayName=k.name+" [from "+f.id+"]";f={make:k};g.CamcorderPlusSVG=a;g.PollsSVG=b;g.DollarSignSVG=e;g.PaperClipAngledSVG=j;g.MicrophoneSVG=f}),98);
__d("MWChatComposerP2PPaymentEligibility",["CometRelay","MWChatComposerP2PPaymentEligibilityQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWChatComposerP2PPaymentEligibilityQuery.graphql"),a)}g.useQuery=a}),98);
__d("MWV2ComposerP2P.entrypoint",["JSResourceForInteraction","MWChatComposerP2PPopoverQuery$Parameters"],(function(a,b,c,d,e,f,g){a={getPreloadProps:function(a){return{queries:{rootQuery:{parameters:c("MWChatComposerP2PPopoverQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWChatComposerP2PPopover.react").__setRef("MWV2ComposerP2P.entrypoint")};b=a;g["default"]=b}),98);
__d("MWV2ComposerPaymentButton.bs",["fbt","CometListCellPressable.react","MDSTextPairing.react","MWChatComposerOverflowIcons.bs","MWChatComposerP2PPaymentEligibility","MWIcon.react","MWPActor.bs","MWTooltip.react","MWV2ComposerP2P.entrypoint","MessagingThreadType.bs","bs_belt_Array","bs_caml","bs_caml_option","bs_curry","bs_int64","react","react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__ZfTcnFD1LsY__JHASH__"),k=h._("__JHASH__wXK5vs8tfga__JHASH__");function a(a){var b=a.color,e=a.onClose,f=a.participants,g=a.pushPage,h=a.thread,l=d("MWPActor.bs").useActor(),m=f.filter(function(a){return c("bs_caml").i64_neq(a.contactId,l)}).map(function(a){return c("bs_int64").to_string(a.contactId)});a=d("MWChatComposerP2PPaymentEligibility").useQuery({fbids:m});f=a.viewer;var n;if(f==null)n=void 0;else{a=f.peer_to_peer_payments;n=a==null?void 0:c("bs_caml_option").some(a.can_send_to)}f=n!==void 0?c("bs_belt_Array").get(c("bs_caml_option").valFromOption(n),0):void 0;var o=c("useCometRelayEntrypointContextualEnvironmentProvider")(),p=c("bs_caml").i64_eq(h.threadType,d("MessagingThreadType.bs").group),q=c("bs_caml").i64_eq(h.threadType,d("MessagingThreadType.bs").marketplace),r=m.length===1?c("bs_caml_option").some(m[0]):void 0;a=function(a){var b={closeActionTray:e,eligibility:n,isGroupThread:p,isMarketPlaceThread:q,onClose:e,otherUserFbid:r,threadFbid:c("bs_int64").to_string(h.threadKey),threadOtherUsers:m,withPopover:!1};return c("bs_curry")._1(g,function(){return i.jsx(c("react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"),{entryPoint:c("MWV2ComposerP2P.entrypoint"),entryPointParams:{},environmentProvider:o,props:b})})};if(f===void 0)return null;f=c("bs_caml_option").valFromOption(f);var s;if(p)s=q?[void 0,j]:[void 0,k];else{var t=f.is_eligible;s=[t?void 0:c("bs_caml_option").some(f.exception.description),j]}t=s[0];var u=t!==void 0;f=function(a){return i.jsx(d("MWChatComposerOverflowIcons.bs").DollarSignSVG.make,{fill:u?void 0:b,size:20})};f=i.jsx(c("CometListCellPressable.react"),{addOnStart:i.jsx(c("MWIcon.react"),{icon:f}),addOnStartVerticalAlign:"center",content:i.jsx(c("MDSTextPairing.react"),{headline:s[1],headlineColor:u?"disabled":"primary",level:4}),disabled:u,onPress:a,role:"menuitem"});if(t!==void 0)return i.jsx(c("MWTooltip.react"),{position:"above",tooltip:c("bs_caml_option").valFromOption(t),children:f});else return f}b=a;e=j;f=k;h=b;g.sendOrRequestLabel=e;g.requestLabel=f;g.make=h}),98);
__d("MWV2ComposerPollButton.bs",["fbt","CometListCellPressable.react","LS.bs","LSIssuePollCreationForThreadTask","LSVec","LsFalcoEventEntryPoint.bs","MDSTextPairing.react","MWChatComposerOverflowIcons.bs","MWChatPollFlyout.bs","MWIcon.react","MessageSendClickFalcoEvent","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color,e=a.onClose,f=a.pushPage,g=a.thread,j=c("useReStore")(),k=i.useCallback(function(a,b,e){var f=j.runInTransaction(function(f){return c("LSIssuePollCreationForThreadTask")(b,a,c("LSVec").make(e),d("LS.bs").make(f))},"readwrite");c("promiseDone")(f)},[j]);a=function(a){return c("bs_curry")._1(f,function(){return i.jsx(d("MWChatPollFlyout.bs").make,{onClose:e,onPollCreate:function(a,b){k(g.threadKey,a,b),c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint.bs").composer}}})},withPopover:!1})})};var l=function(){return i.jsx(d("MWChatComposerOverflowIcons.bs").PollsSVG.make,{fill:b,size:20})};return i.jsx(c("CometListCellPressable.react"),{addOnStart:i.jsx(c("MWIcon.react"),{icon:l}),addOnStartVerticalAlign:"center",content:i.jsx(c("MDSTextPairing.react"),{headline:h._("__JHASH__YANDQDfyQrm__JHASH__"),level:4}),onPress:a,role:"menuitem"})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ComposerVoiceClipButton.bs",["fbt","CometListCellPressable.react","MDSTextPairing.react","MWChatComposerOverflowIcons.bs","MWIcon.react","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color,e=a.onPress;a=function(a){return i.jsx(d("MWChatComposerOverflowIcons.bs").MicrophoneSVG.make,{fill:b,size:20})};return i.jsx(c("CometListCellPressable.react"),{addOnStart:i.jsx(c("MWIcon.react"),{icon:a}),addOnStartVerticalAlign:"center",content:i.jsx(c("MDSTextPairing.react"),{headline:h._("__JHASH__Cn3aSQ9nsyA__JHASH__"),level:4}),onPress:function(){return c("bs_curry")._1(e)},role:"menuitem"})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWV2ComposerOverflowMenu.bs",["BaseMultiStepContainer.react","CometErrorBoundary.react","CometFileSelector.react","CometListCellPressable.react","CometPlaceholder.react","CometPopover.react","FocusGroup.react","LSMessagingThreadTypeUtil.bs","MAWGating","MDSTextPairing.react","MWChatAnimatedImageFlyout.react","MWChatComposerIcons.bs","MWChatStickersFlyout.bs","MWIcon.react","MWV2ComposerFileButton.bs","MWV2ComposerGifButton.bs","MWV2ComposerPaymentButton.bs","MWV2ComposerPollButton.bs","MWV2ComposerStickerButton.bs","MWV2ComposerVoiceClipButton.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Array","bs_caml_option","bs_curry","focusScopeQueries","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g;c=b("FocusGroup.react").createFocusGroup;var h=b("MWV2ComposerStickerButton.bs").label,i=b("MWV2ComposerStickerButton.bs").useOnStickerSelect,j=g||(g=b("react"));d=c(b("focusScopeQueries").tabbableScopeQuery);var k=d[0],l=d[1];function m(a){var c=a.color,d=a.onClose,e=a.onSendMessage,f=a.pushPage,g=a.useSecureSend,k=i(e,g);a=function(a){return b("bs_curry")._1(f,function(){return j.jsx(b("MWChatStickersFlyout.bs").make,{className:"x1fepime",onClose:d,onStickerSelect:k,shouldHideDefaultPacks:g,withArrow:!1,withPopover:!0})})};e=j.useCallback(function(a){return j.jsx(b("MWChatComposerIcons.bs").Sticker.make,{fill:c,size:20})},[c]);return j.jsx(b("CometListCellPressable.react"),{addOnStart:j.jsx(b("MWIcon.react"),{icon:e}),addOnStartVerticalAlign:"center",content:j.jsx(b("MDSTextPairing.react"),{headline:h,level:4}),onPress:a,role:"menuitem"})}m.displayName=m.name+" [from "+e.id+"]";c={make:m};function n(a){var c=a.color,d=a.onClose,e=a.onSendMessage,f=a.pushPage,g=b("MWV2ComposerGifButton.bs").useOnGifSelect(e);a=function(a){return b("bs_curry")._1(f,function(){return j.jsx(b("MWChatAnimatedImageFlyout.react"),{onClose:d,onSelect:g,withArrow:!1})})};e=j.useCallback(function(a){return j.jsx(b("MWChatComposerIcons.bs").Gif.make,{fill:c,size:20})},[c]);return j.jsx(b("CometListCellPressable.react"),{addOnStart:j.jsx(b("MWIcon.react"),{icon:e}),addOnStartVerticalAlign:"center",content:j.jsx(b("MDSTextPairing.react"),{headline:b("MWV2ComposerGifButton.bs").label,level:4}),onPress:a,role:"menuitem"})}n.displayName=n.name+" [from "+e.id+"]";d={make:n};function o(a){var c=a.color,d=a.onAttachmentsAdded,e=a.onClose;a=a.supportedFileTypes;var f=b("MWV2ComposerFileButton.bs").useOnFilesSelected(d);d=function(a){b("bs_curry")._1(e);return b("bs_curry")._1(f,a)};var g=j.useCallback(function(a){return j.jsx(b("MWChatComposerIcons.bs").Photo.make,{fill:c,size:20})},[c]);d={children:function(a){return j.jsx(b("CometListCellPressable.react"),{addOnStart:j.jsx(b("MWIcon.react"),{icon:g}),addOnStartVerticalAlign:"center",content:j.jsx(b("MDSTextPairing.react"),{headline:b("MWV2ComposerFileButton.bs").label,level:4}),onPress:function(){return b("bs_curry")._1(a)},role:"menuitem"})},multiple:!0,onFilesSelected:d};a!==void 0&&(d.accept=b("bs_caml_option").valFromOption(a));return j.jsx(b("CometFileSelector.react"),babelHelpers["extends"]({},d))}o.displayName=o.name+" [from "+e.id+"]";var p={make:o};function q(a){var c=a.color,d=a.extraItems,e=a.onAttachmentsAdded,f=a.onClose,g=a.onPressVoiceClip,h=a.onSendMessage,i=a.pushPage,p=a.showCreatePoll,q=a.showFile,r=a.showGif,s=a.showPayment,t=a.showSendVoiceClip,u=a.showSticker,v=a.supportedFileTypes,w=a.thread,x=b("useReStore")();a=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(x.table("participants")),{hd:w.threadKey,tl:0})},[x,JSON.stringify(w.threadKey)]));var y=b("MAWGating").isStickerEnabled()&&b("LSMessagingThreadTypeUtil.bs").isSecure(w.threadType);return j.jsx("div",{className:"x1jzhcrs x1iorvi4 x150jy0e xjkvuk6 x1e558r4 xuxw1ft",role:"menu",children:j.jsxs(k,{orientation:"vertical",tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:[b("bs_belt_Array").mapWithIndex(d,function(a,b){return j.jsx(l,{children:b},String(a))}),s?j.jsx(b("CometPlaceholder.react"),{fallback:null,children:j.jsx(l,{children:j.jsx(b("MWV2ComposerPaymentButton.bs").make,{color:c,onClose:f,participants:a,pushPage:i,thread:w})})}):null,p?j.jsx(l,{children:j.jsx(b("MWV2ComposerPollButton.bs").make,{color:c,onClose:f,pushPage:i,thread:w})}):null,t?j.jsx(l,{children:j.jsx(b("MWV2ComposerVoiceClipButton.bs").make,{color:c,onPress:g,thread:w})}):null,u?j.jsx(l,{children:j.jsx(m,{color:c,onClose:f,onSendMessage:h,pushPage:i,useSecureSend:y})}):null,r?j.jsx(l,{children:j.jsx(n,{color:c,onClose:f,onSendMessage:h,pushPage:i})}):null,q?j.jsx(l,{children:j.jsx(o,{color:c,onAttachmentsAdded:e,onClose:f,supportedFileTypes:v})}):null]})})}q.displayName=q.name+" [from "+e.id+"]";var r={make:q};function a(a){var c=a.color,d=a.extraItems,e=a.isInputExpanded,f=a.onAttachmentsAdded,g=a.onClose,h=a.onPressVoiceClip,i=a.onSendMessage,k=a.showCreatePoll,l=a.showFile,m=a.showGif,n=a.showPayment,o=a.showSendVoiceClip,p=a.showSticker,r=a.supportedFileTypes,s=a.threadKey,t=b("useReStore")(),u=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(t.table("threads")),{hd:s,tl:0})},[t,JSON.stringify(s)]));return j.jsx(b("CometErrorBoundary.react"),{children:j.jsx(b("CometPopover.react"),{withArrow:!0,children:u!==void 0?j.jsx(b("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){return j.jsx(q,{color:c,extraItems:d,isInputExpanded:e,onAttachmentsAdded:f,onClose:g,onPressVoiceClip:function(){b("bs_curry")._1(g);return b("bs_curry")._1(h)},onSendMessage:i,pushPage:a,showCreatePoll:k,showFile:l,showGif:m,showPayment:n,showSendVoiceClip:o,showSticker:p,supportedFileTypes:r,thread:u})}}):null})})}a.displayName=a.name+" [from "+e.id+"]";var s;e=a;f.FocusGroup=s;f.MWV2ComposerStickerMenuItem=c;f.MWV2ComposerGifMenuItem=d;f.MWV2ComposerFileMenuItem=p;f.OverflowList=r;f.make=e}),null);
__d("MWV2ComposerOverflowMenu",["MWV2ComposerOverflowMenu.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWV2ComposerOverflowMenu.bs").make}),98);